@page "/"
@using MovieReviewApp.Components.Partials

<PageTitle>Movie Review Site</PageTitle>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <Phase MovieEvent="CurrentEvent" />
        </div>
        <div class="col-md-6">
            <h2>Reminder</h2>

            <p>
                Questions:
            </p>

            <ol>
                <li>Did I like the movie?</li>
                <li>Am I glad I watched the movie?</li>
                <li>Do I think I'd ever watch it again?</li>
                <li>Would you ever recommend this movie?</li>
                <li>What was my favorite part of the movie?</li>
                <li>What was my least favorite part of the movie?</li>
            </ol>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-md-6">
            <Phase MovieEvent="NextEvent" />
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-md-12">
            @foreach (var phase in Phases.Where(x => x.EndDate >= DateTime.Now))
            {
                <p>Cycle @phase.Number:</p>
                @foreach (var movieEvent in phase.Events.Where(x => x.EndDate >= DateTime.Now))
                {
                    <p>@movieEvent.StartDate.ToString("MMMM, yyyy") - @movieEvent.Person</p>
                }
            }
        </div>
    </div>
</div>
